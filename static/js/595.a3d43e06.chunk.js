"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[595],{172:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(402),i="Loader_spiner__xTnPT",a=n(184),s=function(){return(0,a.jsxs)("div",{className:i,children:[(0,a.jsx)("p",{children:"LOADING..."}),(0,a.jsx)(r.NB,{visible:!0,height:"80",width:"80",ariaLabel:"blocks-loading",wrapperStyle:{},wrapperClass:"blocks-wrapper",colors:["#e15b64","#f47e60","#f8b26a","#abbd81","#849b87"]})]})}},595:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r=n(433),i=n(861),a=n(439),s=n(757),o=n.n(s),c=n(87),u=n(689),l=n(791),f=n(172),h="Movies_home__text__zXe5C",v="Movies_text__+45Um",p="Movies_form__basic__un+bc",_="Movies_input__movie__WnMaB",d="Movies_btn__CifXa",m=n(184),x=function(){var e=(0,l.useState)([]),t=(0,a.Z)(e,2),n=t[0],s=t[1],x=(0,l.useState)(null),b=(0,a.Z)(x,2),j=b[0],g=b[1],w=(0,l.useState)(!1),y=(0,a.Z)(w,2),k=y[0],Z=y[1],N=(0,c.lr)(),C=(0,a.Z)(N,2),S=C[0],M=C[1],T=S.get("query");console.log("searchQuery searchPharams ",T);var L=(0,l.useState)((function(){return T||""})),P=(0,a.Z)(L,2),q=P[0],B=P[1],D=(0,u.TH)();(0,l.useEffect)((function(){function e(){return(e=(0,i.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(!0),e.prev=1,e.next=4,fetch("https://api.themoviedb.org/3/search/movie?query=".concat(T,"&api_key=356db60679791a010148fefe0790ebd1")).then((function(e){return e.json()})).then((function(e){s((0,r.Z)(E(e.results)))}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),g(e.t0.message);case 9:return e.prev=9,Z(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[1,6,9,12]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[T]);var E=function(e){return e.map((function(e){return{original_title:e.original_title,id:e.id}}))};return(0,m.jsxs)("main",{children:[(0,m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),B(e.currentTarget.value),q||alert("Enter, please, movie....")},className:p,children:[(0,m.jsx)("input",{type:"text",value:q,onChange:function(e){return M(B(e.target.value))},className:_}),(0,m.jsx)("button",{type:"submit",onClick:function(){return M({query:"".concat(q)})},className:d,children:"Search"})]}),j&&{error:j},k&&(0,m.jsx)(f.Z,{}),(0,m.jsx)("div",{children:(0,m.jsx)(c.OL,{to:"/movies"})}),(0,m.jsx)("ul",{children:T?n.map((function(e){var t=e.original_title,n=e.id;return(0,m.jsx)("li",{children:(0,m.jsx)(c.rU,{to:"".concat(n),state:{from:D},className:h,children:t})},n)})):(0,m.jsx)("p",{className:v,children:"To enter title of the movie, please... "})})]})}},861:function(e,t,n){function r(e,t,n,r,i,a,s){try{var o=e[a](s),c=o.value}catch(u){return void n(u)}o.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var s=e.apply(t,n);function o(e){r(s,i,a,o,c,"next",e)}function c(e){r(s,i,a,o,c,"throw",e)}o(void 0)}))}}n.d(t,{Z:function(){return i}})}}]);
//# sourceMappingURL=595.a3d43e06.chunk.js.map